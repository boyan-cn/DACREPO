# Leetcode 977.有序数组的平方

> [!TIP]
>
> - 本题关键在于理解双指针思想

Leetcode 题目跳转： [977.有序数组的平方](https://leetcode.cn/problems/squares-of-a-sorted-array/description/)

Leetcode 题解跳转：[lc[977].有序数组的平方｜1.暴力解法 2.双指针](https://leetcode.cn/problems/squares-of-a-sorted-array/solutions/2754871/lc977you-xu-shu-zu-de-ping-fang-1bao-li-8eudb)

<img src="https://cdn.jsdelivr.net/gh/boyan-uni/pic-bed/img/lc977.png" alt="image-20240424221209862" style="width:60%;" />

## 题解

### 解法1：暴力解法

#### 解题思路

- 暴力排序：每个数平方之后，排个序；

#### 复杂度

- 时间复杂度：O(n + n*logn)，使用封装好的排序函数：快速排序；
- 空间复杂度: O(1)，原地算法；

### 解法2：双指针

#### 解题思路

- 输入数组是有序的， 不过因为**负数**存在，平方之后可能成为最大数，会打乱原本的有序正数部分的顺序。

- 数组平方的最大值就在数组的两端，不是最左边就是最右边，不可能是中间。

  - 此时可以考虑**双指针法**了，i指向起始位置，j指向终止位置。
  - 定义一个新数组result，和A数组一样的大小，让k指向result数组终止位置。
    - 如果`A[i] * A[i] < A[j] * A[j]` 那么`result[k--] = A[j] * A[j];` 。
    - 如果`A[i] * A[i] >= A[j] * A[j]` 那么`result[k--] = A[i] * A[i];` 。

- 图解

  <img src="https://cdn.jsdelivr.net/gh/boyan-uni/pic-bed/img/lc977-%E5%8F%8C%E6%8C%87%E9%92%88-%E5%9B%BE%E8%A7%A3.png" alt="image-20240424221855452" style="width:60%;" />

  

#### 复杂度

- 时间复杂度：O(n)，双指针加起来只需要遍历一次；
- 空间复杂度：O(n)，新建辅助数组存储结果，新的结果数组中不需要保证元素不重复；



## Code

### 双指针

```java
// 请你设计时间复杂度为 O(n) 的算法解决本问题: 负数->双指针
class Solution {
    public int[] sortedSquares(int[] nums) {
        // 初始化辅助变量
        int left = 0, right = nums.length - 1;
        int[] resNums = new int[nums.length];   // 新建存结果的数组
        int index = resNums.length - 1;         // 新数组index，从后往前插元素（因为正数已经有序，只需要动态比较插入负数的）
        // 开始遍历
        while (left <= right) {
            if (nums[right] * nums[right] > nums[left] * nums[left]) { 
                // 存结果
                resNums[index] = nums[right] * nums[right];
                // 移两个数组的指针
                right--;
                index--;
            } else {
                // 同上
                resNums[index] = nums[left] * nums[left];
                left++;
                index--;
            }
        }
        return resNums;
    }
}
// 时间复杂度：O(n)，双指针加起来只需要遍历一次；
// 空间复杂度：O(n)，新建辅助数组存储结果，新的结果数组中不需要保证元素不重复；
```



























































