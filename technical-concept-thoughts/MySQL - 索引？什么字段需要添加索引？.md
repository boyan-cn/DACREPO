# MySQL - 索引？什么字段需要添加索引？



> 区分度不大的字段不需要加索引。



索引（Index）是数据库系统中用于快速查询数据的一种数据结构。它类似于一本书的目录，通过索引可以迅速找到数据所在的位置，而不需要扫描整个表。索引可以显著提高查询的性能，但也会增加写操作的开销（如插入、删除、更新）。


### 什么字段需要添加索引

1. **主键（Primary Key）**：
   - 主键字段通常会自动创建索引，因为它们必须唯一并且经常被用于查找和连接。
2. **外键（Foreign Key）**：
   - 外键字段常常被用于连接操作，因此也应创建索引以提高连接效率。
3. **经常用于查询条件（WHERE子句）的字段**：
   - 如果某个字段经常出现在查询条件中，为其创建索引可以大大提高查询速度。例如，一个电商系统中经常根据用户ID查询订单记录，那么用户ID字段适合创建索引。
4. **经常用于排序（ORDER BY子句）的字段**：
   - 如果某个字段经常被用来排序，为其创建索引可以优化排序操作。例如，按日期排序的操作可以通过在日期字段上创建索引来加速。
5. **经常用于分组（GROUP BY子句）的字段**：
   - 如果某个字段经常被用来分组，为其创建索引可以加速分组操作。
6. **联合索引（Composite Index）**：
   - 对于经常一起查询的多个字段，可以创建联合索引。例如，对于一个经常按照“姓氏+名字”进行查询的表，可以创建联合索引（姓氏，名字）。

### 索引的类型

1. **B树索引（B-Tree Index）**：
   - 这是最常见的索引类型，适用于大多数的查询操作，如精确匹配和范围查询。
2. **哈希索引（Hash Index）**：
   - 适用于仅精确匹配的查询，不支持范围查询。
3. **全文索引（Full-Text Index）**：
   - 适用于对文本数据进行全文检索，如查找包含某些关键字的文章。
4. **空间索引（Spatial Index）**：
   - 适用于地理数据的查询，如查找某一范围内的地理位置。

### 注意事项

- **索引的维护成本**：
   - 索引会占用额外的存储空间，并且在插入、更新和删除操作时需要额外的维护，因此应谨慎选择需要创建索引的字段。
- **过多的索引**：
   - 创建过多的索引会导致写操作的性能下降，并且增加维护复杂度。
- **索引选择性**：
   - 高选择性的字段更适合创建索引。选择性是指字段值的唯一程度，选择性越高，索引效果越好。例如，用户ID通常比性别字段更适合创建索引，因为用户ID的选择性更高。

通过合理地为合适的字段创建索引，可以大幅提升数据库查询的性能，但同时也需要考虑索引带来的存储和维护开销。
